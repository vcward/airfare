<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="d3.min.js"></script>
    <script src="https://d3js.org/d3-queue.v3.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>

    <style>
    .hawaii {
      fill: #000;
      stroke: #000;
      stroke-width: 0.5px;
      stoke-linecap: round;
      stroke-linejoin: round;
      vector-effect: non-scaling-stroke;
    }
    .airports {
      fill: #fff;
      stroke: #fff;
   }
    </style>
</head>
<body>
   <div id="map">
   </div>

   <script>
      var width = 900;
      var height = 600;

      var projection = d3.geo.mercator()
         .scale(200);
         
      var svg = d3.select('#map')
         .append('svg')
         .attr('width', width)
         .attr('height', height);

      var path = d3.geo.path()
         .projection(projection);

      var g = svg.append('g');

      function drawMap(error, hawaii, airports) {

         svg.append('g')
            .attr('class', 'hawaii')
            .selectAll('path')
            .data(topojson.feature(hawaii, hawaii.objects.hawaii).features)
            .enter()
            .append('path')
            .attr('d', path);

         svg.append('g')
            .attr('class', 'airports')
            .selectAll('path')
            .data(topojson.feature(airports, airports.objects.airports).features)
            .enter()
            .append('path')
            .attr('id', function(d) { return d.id; })
            .attr('d', path);
      }

      d3.queue()
         .defer(d3.json, "hawaii.topo.json")
         .defer(d3.json, "airports.topo.json")
         .await(drawMap);


   </script>
</body>
</html>
